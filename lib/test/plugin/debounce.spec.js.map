{"version":3,"sources":["../../../src/test/plugin/debounce.spec.js"],"names":[],"mappings":";;;;wBAAoB,UAAU;;;;wBACD,WAAW;;gCAEX,wBAAwB;;;;8BAChC,uBAAuB;;;;sBACV,UAAU;;AAE5C,QAAQ,CAAC,iBAAiB,EAAE,YAAM;AAChC,IAAE,CAAC,uBAAuB,EAAE,YAAM;AAChC,QAAI,OAAO,GAAG,gBAAM,SAAS,CAAC,CAAE,CAAC,EAAE,CAAC,CAAE,CAAC,GAAG,CAAC,UAAA,GAAG;aAAI,CAAE,uBAAU,GAAG,EAAE,IAAI,CAAC,CAAE;KAAA,CAAC,CAAC,CAAA;AAC5E,QAAI,QAAQ,GAAG,mCAAoB,CAAA;AACnC,QAAI,MAAM,GAAG,EAAE,QAAQ,EAAR,QAAQ,EAAE,CAAA;;AAEzB,WAAO,QAAQ,CAAC,OAAO,CAAC,CACtB,UAAA,EAAE;aAAI,OAAO;KAAA,EACb,iDAAiB,GAAG,CAAC,CACtB,CAAC,CACD,IAAI,CAAC,UAAA,OAAO;aAAI,OAAO,CAAC,SAAS,uBAAS;KAAA,CAAC,CAC3C,IAAI,CAAC,UAAA,MAAM,EAAI;AACd,YAAM,GAAG,MAAM,CAAC,IAAI,EAAE,CAAA;AACtB,YAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;AACvC,YAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;AAC7B,YAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;KACxC,CAAC,CAAA;GACH,CAAC,CAAA;CACH,CAAC,CAAA","file":"debounce.spec.js","sourcesContent":["import Promise from 'bluebird'\nimport { Bacon, Event } from 'sigh-core'\n\nimport PipelineCompiler from '../../PipelineCompiler'\nimport debounce from '../../plugin/debounce'\nimport { plugin, makeEvent } from './helper'\n\ndescribe('debounce plugin', () => {\n  it('debounces two streams', () => {\n    var streams = Bacon.fromArray([ 1, 2 ].map(idx => [ makeEvent(idx, true) ]))\n    var compiler = new PipelineCompiler\n    var opData = { compiler }\n\n    return compiler.compile([\n      op => streams,\n      plugin(debounce, 100)\n    ])\n    .then(streams => streams.toPromise(Promise))\n    .then(events => {\n      events = events.sort()\n      events[0].path.should.equal('file1.js')\n      events.length.should.equal(2)\n      events[1].path.should.equal('file2.js')\n    })\n  })\n})\n"]}